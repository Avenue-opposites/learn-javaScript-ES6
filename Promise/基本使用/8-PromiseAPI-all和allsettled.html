<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8-PromiseAPI-all</title>
</head>
<body>
    
</body>
<script>
    // Math.__proto__.rand = function(min,max) {
    //     return Math.floor(Math.random() * (max - min + 1 ) + min);
    // }
    // // console.log(Math.rand(0,100));
    // let r = Math.rand(0,1000);

    
    let P1 = new Promise((resolve,reject) => {
        // resolve('P1=OK');
        reject('P1=NOT');
    });
    let P2 = new Promise((resolve,reject) => {
        resolve('P2=OK');
        // reject('P2=NOT');
    });
    let p3 = new Promise((resolve,reject) => {
        resolve('P3=OK');
        // reject('P3=NOT');
    });
    let p4 = new Promise((resolve,reject) => {
        resolve('P4=OK');
        // reject('P4=NOT');
    })
    let Pall = Promise.all([P1,P2,p3,p4]);
    let PallSettled = Promise.allSettled([P1,P2,p3,p4]);
    //all()方法 接收一个Promise对象数组,返回一个Promise对象,
    //如果传入的Promise对象有失败状态的就返回一个失败的Promise对象,其状态失败,结果是第一个失败的值
    //如果全部成功,则返回一个成功的Promise对象,结果是一个数组包含所有成功的值
    //console.log(Pall);
    //allSettled()方法 接收一个Promise对象数组,返回一个Promise对象,
    //该对象的的结果是一个数组,保存传入的每一个Promise对象的结果和状态,
    //但是其中数据但是对象类型,而且该对象拥有状态属性和结果属性
    console.log(PallSettled);
</script>
</html>